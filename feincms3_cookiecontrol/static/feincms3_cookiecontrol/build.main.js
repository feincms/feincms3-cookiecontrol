(function(){let p="f3cc",s=document.getElementById("f3cc"),c=JSON.parse(document.getElementById("f3cc-data").textContent),o=null,l=null,b={};function i(e,t=null,n=null,f=null,r=null){let d=document.createElement(e);if(e=="a"&&d.setAttribute("href",""),n&&(typeof n.heading!="undefined"&&i("div","f3cc-title",n.heading,d),typeof n.content!="undefined"&&i("div","f3cc-description",n.content,d),typeof n.heading=="undefined"&&typeof n.content=="undefined"&&(d.innerHTML=n)),t&&(d.className=t),r&&d.addEventListener("click",r),f)f.appendChild(d);else return d}function a(){if(o!=null){o.style.display="";return}if(c.banner){o=i("div","f3cc f3cc-banner");let e=i("div","outer");i("div","f3cc-description",c.banner,e);let t=i("div","f3cc-buttons");i("a","btn btn-reject",c.banner.buttonReject,t,j),i("a","btn btn-accept",c.banner.buttonAccept,t,k),e.appendChild(t),o.appendChild(e),s.appendChild(o)}}function u(){if(l!=null){l.style.display="";return}if(c.modify){l=i("div","f3cc-modify");let e=i("div","outer");i("div","inner","",e);let t=i("div","f3cc-buttons");i("a","btn btn-modify",c.modify.buttonPanel,t,a),e.appendChild(t),l.appendChild(e),s.appendChild(l)}}function g(){m("accepted")}function E(){m("rejected")}function m(e){let t=`${p}=${e};max-age=31536000;path=/;sameSite=Strict`;c.domain&&(t+=`;domain=${c.domain}`),document.cookie=t}function y(){const e=new RegExp(`\\b${p}=(.+?)\\b`),t=document.cookie.match(e);if(t&&t.length)return t[1]}function S(){return y()==="accepted"}function h(e){e!=null&&(e.style.display="none")}function k(e){e.preventDefault(),g(),h(o),u(),C()}function j(e){e.preventDefault(),E(),h(o),u()}function v(e){if(N(e)===!0)e.parentNode.replaceChild(A(e),e);else{let t=-1,n=e.childNodes;for(;++t<n.length;)v(n[t])}return e}function A(e){let t=document.createElement("script");t.text=e.innerHTML;let n=-1,f=e.attributes,r;for(;++n<f.length;)t.setAttribute((r=f[n]).name,r.value);return t}function N(e){return e.tagName==="SCRIPT"}function L(e,t){if(typeof t!="undefined"){let n=b[e];n||(b[e]=n=document.createElement("div"),n.dataset.f3cc=e,document.body.appendChild(n)),n.innerHTML=t,v(n)}}function C(){if(S())for(let e of c.cookies)L(e.name,e.inject_if)}function R(){C(),document.body.addEventListener("click",e=>{e.target.closest("[data-open-f3cc-banner]")&&a()}),y()?u():a()}R()})();
