(function(){let v="f3cc",m=document.getElementById("f3cc"),c=JSON.parse(document.getElementById("f3cc-data").textContent),d=null,r=null,p=null,s=[],h={};function i(e,t=null,n=null,o=null,a=null){let l=document.createElement(e);if(e=="a"&&l.setAttribute("href",""),n&&(typeof n.heading!="undefined"&&i("div","f3cc-title",n.heading,l),typeof n.content!="undefined"&&i("div","f3cc-description",n.content,l),typeof n.heading=="undefined"&&typeof n.content=="undefined"&&(l.innerHTML=n)),t&&(l.className=t),a&&l.addEventListener("click",a),o)o.appendChild(l);else return l}function w(){if(d!=null){d.style.display="";return}if(c.banner){d=i("div","f3cc f3cc-banner");let e=i("div","outer");i("div","f3cc-description",c.banner,e);let t=i("div","f3cc-buttons");i("a","btn btn-panel",c.banner.buttonPanel,t,g),i("a","btn btn-accept",c.banner.buttonAccept,t,P),e.appendChild(t),d.appendChild(e),m.appendChild(d)}}function y(){if(p!=null){p.style.display="";return}if(c.revoke){p=i("div","f3cc-revoke");let e=i("div","outer");i("div","inner","",e);let t=i("div","f3cc-buttons");i("a","btn btn-revoke",c.revoke.buttonPanel,t,g),e.appendChild(t),p.appendChild(e),m.appendChild(p)}}function N(){if(b(!0),r!=null){r.style.display="";return}if(c.panel){r=i("div","f3cc f3cc-panel");let e=i("div","outer");i("div","inner",c.panel,e);let t=document.createElement("form");for(let o in c.categories){let a=i("div");a.className="f3cc-category";let l=i("label"),f=document.createElement("input");f.name=o,f.id=`f3cc-category-${o}`,f.type="checkbox",l.htmlFor=f.id,(c.categories[o].preselected==1||E().indexOf(o)>=0)&&(f.checked=!0),c.categories[o].disabled==1&&(f.disabled=!0),s.push(f),i("div","f3cc-title",c.categories[o].title,l),i("div","f3cc-description",c.categories[o].description,l),a.append(f,l),t.append(a)}e.appendChild(t);let n=i("div","f3cc-buttons");i("a","btn btn-cancel",c.panel.buttonCancel,n,T),i("a","btn btn-save",c.panel.buttonSave,n,j),e.appendChild(n),r.appendChild(e),m.appendChild(r)}}function W(){let e=[];for(let t in s)s[t].checked&&e.push(s[t].name);C(e)}function A(){let e=[];for(let t in c.categories)e.push(t);C(e)}function C(e){let t=`${v}=${e.join(",")};max-age=31536000;path=/;sameSite=Strict`;document.cookie=t}function L(){let e=`${v}=;max-age=-1;path=/;sameSite=Strict`;document.cookie=e}function S(){let e=document.cookie.split(";"),t=!1;return typeof e!="undefined"&&e.forEach(n=>{n.split("=")[0].trim()==v&&(t=n.split("=")[1])}),t}function E(){let e=S();return e?e.split(","):[]}function u(e){e!=null&&(e.style.display="none")}function b(e){if(e)document.body.style.top=`-${window.scrollY}px`,document.body.style.position="fixed";else{const t=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,parseInt(t||"0",10)*-1)}}function j(e){e.preventDefault(),W(),u(d),u(r),b(!1),y(),k()}function P(e){e.preventDefault(),A(),u(d),u(r),b(!1),y(),k()}function T(e){e.preventDefault(),u(r),b(!1),I()}function g(e){e.preventDefault(),u(d),u(p),L(),N()}function x(e){if(D(e)===!0)e.parentNode.replaceChild($(e),e);else{let t=-1,n=e.childNodes;for(;++t<n.length;)x(n[t])}return e}function $(e){let t=document.createElement("script");t.text=e.innerHTML;let n=-1,o=e.attributes,a;for(;++n<o.length;)t.setAttribute((a=o[n]).name,a.value);return t}function D(e){return e.tagName==="SCRIPT"}function B(e,t){if(typeof t!="undefined"){let n=h[e];n||(h[e]=n=document.createElement("div"),n.dataset.f3cc=e,document.body.appendChild(n)),n.innerHTML=t,x(n)}}function k(){let e=E();for(let t in c.categories){const n=e.includes(t)?"inject_if":"inject_else";for(let o of c.categories[t].cookies)B(o.name,o[n])}}function I(){k(),document.body.addEventListener("click",e=>{e.target.closest("[data-open-f3cc-panel]")&&g(e)}),S()?y():w()}I()})();
