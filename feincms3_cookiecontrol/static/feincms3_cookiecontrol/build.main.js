(function(){let u="f3cc",m=document.getElementById("f3cc"),c=JSON.parse(document.getElementById("f3cc-data").textContent),o=null,r=null,p={};function n(e,t=null){const i=document.createElement(e);if(t)for(let[a,l]of Object.entries(t))a.startsWith("data-")?i.setAttribute(a,l):a==="children"?i.append(...l):i[a]=l;return i}function d(){if(o!=null){o.style.display="";return}c.banner&&(o=n("div",{className:"f3cc f3cc-banner",children:[n("div",{className:"f3cc-container",children:[n("div",{className:"f3cc-description",children:[n("div",{className:"f3cc-title",textContent:c.banner.heading}),n("div",{className:"f3cc-description",textContent:c.banner.content})]}),n("div",{className:"f3cc-buttons",children:[n("a",{className:"btn btn-accept",textContent:c.banner.buttonAccept,onclick:k}),n("a",{className:"btn btn-reject",textContent:c.banner.buttonReject,onclick:C})]})]})]}),m.append(o))}function s(){if(r!=null){r.style.display="";return}c.modify&&(r=n("div",{className:"f3cc-modify",children:[n("div",{className:"outer",children:[n("div",{className:"f3cc-buttons",children:[n("a",{className:"btn btn-modify",textContent:c.modify.buttonPanel,onclick:e=>{e.preventDefault(),f(r),d()}})]})]})]}),m.append(r))}function b(e){let t=`${u}=${e};max-age=31536000;path=/;sameSite=Strict`;c.domain&&(t+=`;domain=${c.domain}`),document.cookie=t}function h(){const e=new RegExp(`\\b${u}=(.+?)\\b`),t=document.cookie.match(e);if(t&&t.length)return t[1]}function y(){return h()==="accepted"}function f(e){e!=null&&(e.style.display="none")}function k(e){e.preventDefault(),b("accepted"),f(o),s(),N()}function C(e){e.preventDefault(),b("rejected"),f(o),s()}function N(){for(let e of c.cookies){let t=p[e.name];t||(p[e.name]=t=document.createElement("div"),t.dataset.f3cc=e.name,document.body.append(t)),t.innerHTML=e.script,v(t)}}function g(){y()&&N(),document.body.addEventListener("click",e=>{e.target.closest("[data-open-f3cc-banner]")&&d()}),h()?s():d()}g();function v(e){if(S(e)===!0)e.parentNode.replaceChild(x(e),e);else{let t=-1,i=e.childNodes;for(;++t<i.length;)v(i[t])}return e}function x(e){let t=document.createElement("script");t.text=e.innerHTML;let i=-1,a=e.attributes,l;for(;++i<a.length;)t.setAttribute((l=a[i]).name,l.value);return t}function S(e){return e.tagName==="SCRIPT"}})();
